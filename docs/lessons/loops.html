<!DOCTYPE html>
<html lang="en">

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>Control flow | Learning Python</title>
<meta name="generator" content="Jekyll v3.7.2" />
<meta property="og:title" content="Control flow" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="In this lesson" />
<meta property="og:description" content="In this lesson" />
<link rel="canonical" href="https://mcataford.github.io/TalkPythonToMe/lessons/loops.html" />
<meta property="og:url" content="https://mcataford.github.io/TalkPythonToMe/lessons/loops.html" />
<meta property="og:site_name" content="Learning Python" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-02-14T10:05:23-05:00" />
<script type="application/ld+json">
{"description":"In this lesson","@type":"BlogPosting","url":"https://mcataford.github.io/TalkPythonToMe/lessons/loops.html","headline":"Control flow","dateModified":"2018-02-14T10:05:23-05:00","datePublished":"2018-02-14T10:05:23-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://mcataford.github.io/TalkPythonToMe/lessons/loops.html"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  <link rel="stylesheet" href="/TalkPythonToMe/assets/main.css">
  <link type="application/atom+xml" rel="alternate" href="https://mcataford.github.io/TalkPythonToMe/feed.xml" title="Learning Python" />
  
</head>


  <body>

    <html>

  <head>
    <title></title>

    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" rel="stylesheet"/>
    <link href="https://mcataford.github.io//TalkPythonToMe/css/base.css" rel="stylesheet"/>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.bundle.min.js"></script>

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-39212350-4"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-39212350-4');
    </script>

    
  </head>

  <body>

    <header class="page-header">
      <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">Learn Python</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarText">
          <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
              <a class="nav-link" href="https://mcataford.github.io//TalkPythonToMe/">Home <span class="sr-only">(current)</span></a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://mcataford.github.io//TalkPythonToMe/#lessons">Main course</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="https://mcataford.github.io//TalkPythonToMe/#workshops">Workshops</a>
            </li>
            <li class="nav-item">
              <a class="nav-link disabled" href="https://mcataford.github.io//TalkPythonToMe/#resources">Resources</a>
            </li>
          </ul>
          <span class="navbar-text"></span>
        </div>
      </nav>
    </header>

    <main class="page-content" aria-label="Content">
      <div class="wrapper">
        <article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">Control flow</h1>
    <h3 class="p-name">Loops</h3>
    
    <hr>
    
    
    <p class="post-meta">
    
        
    
        
    
        
    
        
    
      <a href="https://mcataford.github.io/TalkPythonToMe/lessons/conditionals.html"><button type="button" class="btn btn-outline-success" >Previous lesson</button></a>  
    
        
    
        
    
    
      
    
      
    
      
    
      <a href="https://mcataford.github.io/TalkPythonToMe/lessons/data-structures.html"><button type="button" class="btn btn-outline-success" >Next lesson</button></a>
    
      
    
      
    
      
    
    </p>
    
  </header>
  <hr>

  

  

  <div class="post-content e-content" itemprop="articleBody">
    <h1 id="in-this-lesson">In this lesson</h1>

<p>In this lesson, we discuss <strong>iteration</strong> and <strong>iterative structures</strong>. These structures will allow us to repeat operations without having to duplicate code. Ultimately, this will also facilitate data processing by allowing us to “walk” through certain bundles of data.</p>

<ol>
  <li><a href="#iteration">The value of iteration</a></li>
  <li><a href="#loops">Loop structures</a>
    <ol>
      <li><a href="#while"><code class="highlighter-rouge">while</code> loops</a></li>
      <li><a href="#for"><code class="highlighter-rouge">for</code> loops</a></li>
      <li><a href="#convert">Converting <code class="highlighter-rouge">while</code> to <code class="highlighter-rouge">for</code> and back</a></li>
    </ol>
  </li>
  <li><a href="#examples">Concrete examples</a></li>
</ol>

<hr />

<p><a name="iteration"></a></p>
<h1 id="1-the-value-of-iteration">1. The value of iteration</h1>

<p><strong>Iterative structures</strong> are all about repetition. One of the main perks of harnessing Python’s power to do various tasks is its ability to <em>repeat</em> operations very fast, effectively taking care of well-defined processing jobs as fast as possible. Whether the goal is to sort a collection of items, to find the solution to a Sudoku puzzle or to calculate the interest you might gain from future savings, the idea of repeating a set of statements a certain number of times or until a certain state is reached is usually part of the solution.</p>

<p>In Python, <strong>loops</strong> will allow us to repeat blocks of code at will. This will, amongst other things, allow us to avoid repeating similar sets of statements, kind of like how we captured simple sequences in <a href="https://mcataford.github.io/TalkPythonToMe/lessons/basics.html#functions">functions</a>. They will also allow us to repeat parts of our scripts until certain conditions are met; in the case of user input, for example, we could choose to ask the question again and again, until the answer is satisfactory.</p>

<p><a name="loops"></a></p>
<h1 id="2-loop-structures">2. Loop structures</h1>

<p>Python gives us two categories of loops: <code class="highlighter-rouge">while</code> and <code class="highlighter-rouge">for</code> loops. The difference between the two is purely semantic and everything that can be done with one can be done with the other, albeit with different syntax.</p>

<p><a name="while"></a></p>
<h2 id="21-while-loops">2.1 <code class="highlighter-rouge">while</code> loops</h2>

<p><code class="highlighter-rouge">while</code> loops implement the function “repeat <em>x</em> as long as <em>condition</em> holds”, which makes them very similar with <a href="https://mcataford.github.io/TalkPythonToMe/lessons/conditions.html">conditional statements</a>. In fact, they will share a structure almost identical to the <code class="highlighter-rouge">if</code> block:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">while</span> <span class="n">condition</span><span class="p">:</span>
  <span class="c">#This code is repeated as long as "condition" is True</span>
</code></pre></div></div>

<p>By design, <code class="highlighter-rouge">while</code> loops are centred around the idea of operating until a certain goal is met. For example, this could be adding up numbers until a certain value is reached, or a certain number of times if a counter variable is used.</p>

<p>Let’s look at a concrete example:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#A counter variable</span>
<span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c">#While the counter is lesser than 10, repeat...</span>
<span class="k">while</span> <span class="n">counter</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
  <span class="c">#Print the value</span>
  <span class="k">print</span><span class="p">(</span><span class="n">counter</span><span class="p">)</span>
  <span class="c">#Increment the counter</span>
  <span class="n">counter</span> <span class="o">=</span> <span class="n">counter</span> <span class="o">+</span> <span class="mi">1</span>
</code></pre></div></div>

<p>In this case, we are presented with a simple loop that prints numbers from an initial value of <code class="highlighter-rouge">0</code> to a maximal value of <code class="highlighter-rouge">9</code>. Note that the condition is formatted the same way as it was in conditional statements: in all cases, those conditions are boolean expressions and are bound by the same rules. This means that you can use any of the <a href="https://mcataford.github.io/TalkPythonToMe/lessons/conditionals.html#comparison-ops">operators</a> we discussed to put together <code class="highlighter-rouge">while</code> loop conditions that fit your needs.</p>

<p>Also note the last statement of the loop body: <code class="highlighter-rouge">counter = counter + 1</code>. Consider what happens if this statement wouldn’t be present:</p>

<ol>
  <li>Set counter to 0</li>
  <li>Check if counter is lesser than 10</li>
  <li>Print current counter</li>
  <li><del>Increment counter</del></li>
  <li>Go back to <em>1.</em></li>
</ol>

<p>In this scenario, the loop never ends as the condition <code class="highlighter-rouge">counter &lt; 10</code> is never broken! This is an <strong>infinite loop</strong> and will cause your script to run until manually terminated. Because it’s neither a syntax or language-related error, no formal exception will be raised by the interpreter. In fact, in some cases, this sort of infinite loop behaviour might even be desirable (but we’ll talk about it later)! In general, however, this is to be avoided as most scripts are meant to have a beginning and an end.</p>

<p><a name="for"></a></p>
<h2 id="22-for-loops">2.2 <code class="highlighter-rouge">for</code> loops</h2>

<p>Much like their <code class="highlighter-rouge">while</code> counterpart, <code class="highlighter-rouge">for</code> loops will repeat the code that they contain. The major difference between the two is, again, <em>semantic</em>: a <code class="highlighter-rouge">for</code> loop will repeat an operation <em>over a collection</em> rather than until a certain condition is met. They will repeat a certain operation “for all items in a given set of items”:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">collection</span><span class="p">:</span>
  <span class="c">#Code that manipulates the item</span>
</code></pre></div></div>

<p>We will discuss collections in the next lesson, but for now, let’s consider <strong>strings</strong>, which are essentially collections of characters. If we apply the previous model to a string, we would then get a <code class="highlighter-rouge">for</code> loop structure like the following:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">character</span> <span class="ow">in</span> <span class="s">"Hello, World!"</span><span class="p">:</span>
  <span class="c">#Do something with each character</span>
</code></pre></div></div>

<p>As the loop “walks through” the string <code class="highlighter-rouge">"Hello, World!"</code>, each character is plucked from it and stored temporarily in <code class="highlighter-rouge">character</code>. From there, each character can be manipulated individually. We could, for instance, choose to print each character on a line:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">character</span> <span class="ow">in</span> <span class="s">"Hello, World!"</span><span class="p">:</span>
  <span class="k">print</span><span class="p">(</span><span class="n">character</span><span class="p">)</span>
</code></pre></div></div>

<p>Collections can also be a <strong>range of numbers</strong> generated using the <code class="highlighter-rouge">range(min, max, step)</code> function, which accepts three input parameters:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Input</th>
      <th style="text-align: center">Required</th>
      <th style="text-align: center">Effect</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">min</code></td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">Sets the range minimum (inclusive)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">max</code></td>
      <td style="text-align: center">Yes</td>
      <td style="text-align: center">Sets the range maximum (exclusive)</td>
    </tr>
    <tr>
      <td style="text-align: center"><code class="highlighter-rouge">step</code></td>
      <td style="text-align: center">No</td>
      <td style="text-align: center">Sets the jump between each number in the range</td>
    </tr>
  </tbody>
</table>

<p>Since only the <code class="highlighter-rouge">max</code> parameter is required, any single parameter given to <code class="highlighter-rouge">range()</code> will be used as a maximum. However, if you choose to give <code class="highlighter-rouge">range()</code> multiple parameters, you need to ensure the order in which they are supplied. Enter the following statements in the interactive Python console to see their effect firsthand:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#Produces the range [0, 1, 2, 3, 4]</span>
<span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">))</span>

<span class="c">#Produces the range [2, 3, 4]</span>
<span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">5</span><span class="p">))</span>

<span class="c">#Produces the range [0, 2, 4]</span>
<span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">2</span><span class="p">))</span>
</code></pre></div></div>

<p><em>Note: we had to wrap our calls to <code class="highlighter-rouge">range()</code> in a <code class="highlighter-rouge">list()</code> function to convert each range to a list that we can view. If you choose to use a range in a <code class="highlighter-rouge">for</code> loop, you do not need to add this extra step.</em></p>

<p>Since the <code class="highlighter-rouge">min</code> parameter has to come first in any multi-parameter usage of <code class="highlighter-rouge">range()</code>, to set the <code class="highlighter-rouge">step</code> parameter you will also have to explicitly set <code class="highlighter-rouge">min</code>, even if it means using the default value (<code class="highlighter-rouge">0</code>).</p>

<p>Combining the <code class="highlighter-rouge">range()</code> function with our previously defined <code class="highlighter-rouge">for</code> loop, we can produce a loop that will process each number individually:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"""
Prints each number in the given range.
Our range parameters are min=0, max=10, step=2
Our range is [0, 2, 4, 6, 8]
"""</span>
<span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">):</span>
  <span class="k">print</span><span class="p">(</span><span class="n">number</span><span class="p">)</span><span class="err">`</span>
</code></pre></div></div>

<p><a name="convert"></a></p>
<h2 id="23-converting-while-to-for-and-back">2.3 Converting <code class="highlighter-rouge">while</code> to <code class="highlighter-rouge">for</code> and back</h2>

<p>As we mentioned earlier, the main difference between <code class="highlighter-rouge">while</code> and <code class="highlighter-rouge">for</code> loops was how the iterative process was phrased. In the former, we repeat an operation <em>as long as a condition is true</em> and in the latter, we repeat an operation <em>over a range of values or items in a set</em>. Since the difference isn’t functional, we can often rewrite a <code class="highlighter-rouge">while</code> loop into a <code class="highlighter-rouge">for</code> loop and vice-versa.</p>

<p>Let’s take for example our previous loop example, which prints each number in the range <code class="highlighter-rouge">[0, 2, 4, 6, 8]</code>:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">number</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">2</span><span class="p">):</span>
  <span class="k">print</span><span class="p">(</span><span class="n">number</span><span class="p">)</span><span class="err">`</span>
</code></pre></div></div>

<p>To convert this to a <code class="highlighter-rouge">while</code> loop, we first need to establish which steps our new structure should go through:</p>

<ol>
  <li>Initially, <code class="highlighter-rouge">number = 0</code>;</li>
  <li>If <code class="highlighter-rouge">number &lt; 10</code>;
    <ol>
      <li>Print <code class="highlighter-rouge">number</code>;</li>
      <li>Increment <code class="highlighter-rouge">number</code> by 2 such that we skip the odd values</li>
      <li>Back to <em>2.</em></li>
    </ol>
  </li>
  <li>Terminate script</li>
</ol>

<p>We notice that the condition is essentially phrased as <em>have we reached the value <code class="highlighter-rouge">max</code> yet?</em>, the <code class="highlighter-rouge">min</code> became the initial condition for <code class="highlighter-rouge">number</code> and the <code class="highlighter-rouge">step</code> has been converted to a statement which increments the value of <code class="highlighter-rouge">number</code> by 2.</p>

<p>Using the list of steps above, we can write down the <code class="highlighter-rouge">while</code> implementation:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">number</span> <span class="o">=</span> <span class="mi">0</span>

<span class="k">while</span> <span class="n">number</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
  <span class="k">print</span><span class="p">(</span><span class="n">number</span><span class="p">)</span>
  <span class="n">number</span> <span class="o">=</span> <span class="n">number</span> <span class="o">+</span> <span class="mi">2</span>
</code></pre></div></div>

<p>Note that while both loops are written differently, they are <em>functionality</em> the same.</p>

<p>This sort of conversion has one major advantage: as you can see from the examples above, in some cases, a <code class="highlighter-rouge">while</code> formulation is more concise, whereas in others, <code class="highlighter-rouge">for</code> loops will produce shorter scripts. It’s also a matter of preference: if you are struggling to write a <code class="highlighter-rouge">while</code> loop for a certain task, a <code class="highlighter-rouge">for</code> loop might offer a simpler alternative.</p>

<p><a name="examples"></a></p>
<h1 id="3-concrete-examples">3. Concrete examples</h1>

<p>Now that we know about loops and conditions, which essentially allow us to repeat tasks and to selectively execute code, we can implement complex behaviour in our scripts. Let’s look at some examples that could be made more interesting using a combination of iteration and conditional execution.</p>

<p><a name="temperature"></a></p>
<h2 id="31-temperature-conversion">3.1 Temperature conversion</h2>

<p>Earlier, we discussed the idea of using conditionals as <em>validation</em> to ensure that a user cannot proceed with operations before submitting valid input. In this case, this could take the form of a loop that can only be exited <em>if</em> the entered input is a valid number:</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#Give an initial value to the variable that will contain our user input</span>
<span class="n">user_in</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c">#Repeat forever</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
  <span class="c">#Grab user input</span>
  <span class="n">user_in</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s">"Enter a temperature in Celsius to convert to Kelvin: "</span><span class="p">)</span>

  <span class="c">#If the temperature is higher than the absolute minimum for Celsius, exit the loop</span>
  <span class="k">if</span> <span class="nb">float</span><span class="p">(</span><span class="n">user_in</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="o">-</span><span class="mf">273.15</span><span class="p">:</span>
    <span class="k">break</span>
  <span class="c">#Otherwise, print error message</span>
  <span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="s">"Invalid value!"</span><span class="p">)</span>

<span class="c">#Once our, convert the temperature, assumed to be valid</span>
<span class="n">kelvin_temp</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">user_in</span><span class="p">)</span> <span class="o">+</span> <span class="mf">273.15</span>

<span class="c">#Print the results</span>
<span class="k">print</span><span class="p">(</span><span class="n">user_in</span> <span class="o">+</span> <span class="s">" degrees Celsius is equivalent to "</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">kelvin_temp</span><span class="p">)</span> <span class="o">+</span> <span class="s">" degrees Kelvin."</span><span class="p">)</span>
</code></pre></div></div>

<p>By using an <strong>infinite loop</strong> that is manually exited if the entered value is valid, we can force the user to continuously enter values until a satisfactory temperature is given. In this case, the <code class="highlighter-rouge">while</code> traps the user until the <code class="highlighter-rouge">if</code> condition, which validates the input, is satisfied.</p>


  </div>

  

  <a class="u-url" href="/TalkPythonToMe/lessons/loops.html" hidden></a>
</article>
      </div>
    </main>

    
  <footer>
  </footer>
  
  </body>
</html>

  </body>

</html>
